set.seed(848)
#ELastic test
elastic_final <- finalize_workflow(elastic_workflow, elastic_rmse)

elastic_final_fit <- fit(elastic_final, data = season21)

elastic_aug <- augment(elastic_final_fit, new_data=season21) %>%
  rmse(truth = PTS, estimate = .pred)

#Random Forest test
rf_final <- finalize_workflow(rf_workflow, rf_rmse)

rf_final_fit <- fit(rf_final, data = season21)

rf_aug <- augment(rf_final_fit, new_data=season21) %>%
  rmse(truth = PTS, estimate = .pred)

#Linear Model fit
lm_final <- finalize_workflow(lm_workflow, lm_rmse)

lm_final_fit <- fit(lm_final, data = season21)

lm_aug <- augment(lm_final_fit, new_data=season21) %>%
  rmse(truth = PTS, estimate = .pred)

#KNN Model fit

knn_final <- finalize_workflow(knn_workflow, knn_rmse)

knn_final_fit <- fit(knn_final, data = season21)

knn_aug <- augment(knn_final_fit, new_data=season21) %>%
  rmse(truth = PTS, estimate = .pred)








model_results <- tibble(Model =c("Elastic Model",
            "Random Forest Model",
            "Linear Model",
            "KNN Model"), RMSE = c(elastic_aug$.estimate, rf_aug$.estimate, lm_aug$.estimate, knn_aug$.estimate))

tibble_results <- model_results %>% 
  dplyr::arrange(RMSE)

tibble_results










rf_auge <- augment(rf_final_fit, new_data=season22) %>%
  rmse(truth = PTS, estimate = .pred)

lm_auge <- augment(lm_final_fit, new_data=season22) %>%
  rmse(truth = PTS, estimate = .pred)

knn_auge <- augment(knn_final_fit, new_data=season22) %>%
  rmse(truth = PTS, estimate = .pred)

elastic_auge <- augment(elastic_final_fit, new_data=season22) %>%
  rmse(truth = PTS, estimate = .pred)


model_results <- tibble(Model =c("Elastic Model",
            "Random Forest Model",
            "Linear Model",
            "KNN Model"), RMSE = c(elastic_auge$.estimate, rf_auge$.estimate, lm_auge$.estimate, knn_auge$.estimate))

tibble_results2 <- model_results %>% 
  dplyr::arrange(RMSE)

tibble_results2

